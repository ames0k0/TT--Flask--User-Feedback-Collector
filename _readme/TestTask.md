# Кейс-задание

Представь, что ты — разработчик в стартапе. Мы вместе делаем сервис, который в реальном времени собирает отзывы пользователей и подсказывает, где нужно исправить ошибку или добавить фичу.

**Зачем это нужно**
- Клиенты оставляют короткие отзывы в чатах и на сайте.
- Наша задача — сразу понять, хороший отзыв или жалоба.
- На основе этого быстро реагировать: улучшать продукт, отвечать клиентам, снижать отток.

**Твоя миссия (≈30 мин)**
Сделать мини-сервис, который принимает отзыв и сразу оценивает его настроение.

1. **Контекст**
    - Мы используем Flask и SQLite
    - Позже к этому прототипу докину баг-репорты и дашборд.
2. **Что должно получиться**
    - HTTP-сервис на Flask в файле `app.py`.
    - БД `reviews.db` с таблицей:
    ```sql
    -- КопироватьРедактировать
    CREATE TABLE IF NOT EXISTS reviews (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    text TEXT NOT NULL,
    sentiment TEXT NOT NULL,
    created_at TEXT NOT NULL
    );
    ```
    - **POST** /reviews:
        - Принимает JSON `{ "text": "ваш отзыв" }`
        - По простому словарю (словосочетаниям “хорош”, “люблю” → positive; “плохо”, “ненавиж” → negative; иначе neutral) определяет `sentiment`
        - Записывает в БД с `created_at = datetime.utcnow().isoformat()`
        - Возвращает JSON с полями `{ id, text, sentiment, created_at }`
    - **GET** /reviews?sentiment=negative:
        - Возвращает все отзывы с `sentiment=negative`.
3. Почему важно
    - Проверяем навыки веб-сервисов и HTTP.
    - Видим умение работать с реляционной БД и писать простые SQL-запросы.
    - Оцениваем понимание чистоты кода и структуры проекта.
4. **Как сдавать**
    - Один файл `app.py`.
    - Краткий README:
    ```bash
    # КопироватьРедактировать
    pip install flask
    python app.py
    ```
    - Примеры curl-запросов и их ответов.
5. **Критерии оценки**
    - a. Сервис стартует командой `​​​​python app.py`​​​​ без ошибок.
    - b. POST `/reviews` сохраняет и возвращает JSON с 4 полями.
    - c. GET `​​​​/reviews?sentiment=negative​​​​` фильтрует по настроению.
    - d. Таблица создаётся автоматически на старте.
    - e. Код простой, понятный, без лишних зависимостей.